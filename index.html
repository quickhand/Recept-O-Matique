<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>

  <title>quickhand/Recept-O-Matique @ GitHub</title>
<script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type="text/javascript">
  var scope = 'http://docs.google.com/feeds/';
  // Load the latest version of the Google Data JavaScript Client
  google.load('gdata', '2.x');

  function onGoogleDataLoad() {
    // Put your code here
    if(google.accounts.user.checkLogin(scope))
    {
      $("#loginbutton").hide();
    } else {
      $("#loginbutton").removeAttr('disabled');
    }
  }

  // Call function once the client has loaded
  google.setOnLoadCallback(onGoogleDataLoad);

</script>
<script type="text/javascript">
  //function doLogin(){
  //  scope = "http://docs.google.com/feeds/";
  //  var token = google.accounts.user.login(scope);
  //}
  
  function doLogin() { 
   var next = window.location // TODO add here + '&[[]SOME_EXTRA_URL_PARAMETER_OR_APP_STATE=' + VALUE;
   var url = 'https://www.google.com/accounts/AuthSubRequest?';
   url += 'scope=' + scope;
   url += '&session=1&secure=0&';
   url += 'next=' + escape(next);
   // TODO add here the OpenSocial persistence API call to store application state
   window.location = url;
  }
  function doLogout() {
    if (google.accounts.user.checkLogin(scope)) {
      google.accounts.user.logout();
    }
  }
  function moreStuff() {
    $("#blam").text("ZUMBO1!");
    $.get(
    "https://docs.google.com/feeds/default/private/full/?v=3",
    //"https://docs.google.com/feeds/default/private/full/-/document",
    function(data) {
       $("#blam").text("ZUMBO2!");//data);
    }
    );
    
  }
</script>

<script>
     $(document).ready(function(){

     });
</script>
</head>
<body>
<button type="button" id="loginbutton" onclick="doLogin()" disabled="disabled">Log In To Google Docs</button>
<button type="button" onclick="moreStuff()">Do Some More Stuff</button>
<div id="blam"></div>
</body>
</html>
